{"version":3,"file":"compiled-all-chats-component.js","names":["axios","io","AllChatsComponent","React","Component","constructor","props","state","connection_status","is_initial","is_online","active_chat_ids","active_chats","user","loaded_chat_id","message_send","is_sending","socketio","socket","custom_data","typing_indicator","throttle_time","can_publish","render","toggleOnlineStatus","renderChats","renderWelcomeScreen","renderMessages","componentDidMount","interval","setInterval","setState","componentWillUnmount","clearInterval","newState","getUser","activeChats","getAllActiveChats","console","log","forEach","ch","_id","map","on","engine","arg","listenCSSASendMessageResponse","listenToggleOnlineStatus","response","listenCloseChatResponse","listenCSSAChatSeenResponse","get","data","error","emitToggleOnlineStatus","user_id","loadChat","chat_id","chat","is_seen_by_cssa","emitCSSAChatSeen","loadChatMessagesByChatID","sortChatIDsByUpdateTimestamp","chatIds","sort","a","b","Date","inputMessage","event","value","target","sendMessage","current_chat","message","input_value","emitCSSASendMessage","acknowledgeCSSASendMessage","closeChat","emitCloseChat","publishTypingIndicator","emitCSSATypingIndicator","setTimeout","acknowledge","emit","res","chatMessage","updatedChat","updated_at","push","status","newStatus","content","filter","old_chat","chatMessages","chat_messages","determineChatClass","className","first_name","last_name","loaded_chat","loaded_chat_messages","cm","index","is_incoming","customer_name","customer_email","view","title_question","moment","fromNow","domContainer","document","querySelector","root","ReactDOM","createRoot"],"sources":["all-chats-component.js"],"sourcesContent":["import axios from 'https://cdn.skypack.dev/axios';\r\nimport { io } from 'https://cdn.socket.io/4.4.1/socket.io.esm.min.js';\r\n\r\nclass AllChatsComponent extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tconnection_status: false,\r\n\t\t\tis_initial: true,\r\n\t\t\tis_online: false,\r\n\t\t\tactive_chat_ids: [],\r\n\t\t\tactive_chats: {},\r\n\t\t\tuser: null,\r\n\t\t\tloaded_chat_id: null,\r\n\t\t\tmessage_send: {\r\n\t\t\t\tis_sending: false\r\n\t\t\t},\r\n\t\t\tsocketio: {\r\n\t\t\t\tsocket: null\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.custom_data = {\r\n\t\t\ttyping_indicator: {\r\n\t\t\t\tthrottle_time: 1000, //millie seconds\r\n\t\t\t\tcan_publish: true,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>Connection Status - { this.state.connection_status ? \"Connected\" : \"Disconnected\"}</h1>\r\n\t\t\t\t\t<button onClick={this.toggleOnlineStatus}>\r\n\t\t\t\t\t\t{this.state.is_online ? 'Online' : 'Offline'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div className=\"row no-gutters\">\r\n\t\t\t\t\t\t<div className=\"col-md-4 border-right\">\r\n\t\t\t\t\t\t\t<div className=\"settings-tray\">\r\n\t\t\t\t\t\t\t\t<img className=\"profile-image\" src=\"https://www.clarity-enhanced.net/wp-content/uploads/2020/06/filip.jpg\" alt=\"Profile img\" />\r\n\t\t\t\t\t\t\t\t<span className=\"settings-tray--right\">\r\n                {/* <i class=\"material-icons\">cached</i>\r\n                    <i class=\"material-icons\">message</i> */}\r\n\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">menu</i>\r\n              </span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"search-box\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">search</i>\r\n\t\t\t\t\t\t\t\t\t<input placeholder=\"Search here\" type=\"text\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.renderChats()}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.state.is_initial ? this.renderWelcomeScreen() : this.renderMessages()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//Update the component every one minute so the relative times will update\r\n\t\tthis.interval = setInterval(() => this.setState({ }), 60000);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.interval);\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tlet newState = {};\r\n\t\tconst user = await this.getUser();\r\n\t\tconst activeChats = await this.getAllActiveChats();\r\n\t\tconsole.log(activeChats);\r\n\t\tif(user) {\r\n\t\t\tnewState['is_online'] = user.is_online;\r\n\t\t\tnewState['user'] = user;\r\n\t\t}\r\n\t\tif(activeChats){\r\n\t\t\t//newState['active_chats'] = activeChats;\r\n\t\t\tnewState['active_chats'] = {};\r\n\t\t\tactiveChats.forEach(ch => {\r\n\t\t\t\tconsole.log(ch);\r\n\t\t\t\tnewState['active_chats'][ch._id] = ch;\r\n\t\t\t});\r\n\t\t\tnewState['active_chat_ids'] = activeChats.map(ch => ch._id);\r\n\t\t}\r\n\r\n\r\n\t\tthis.setState(newState);\r\n\r\n\t\tconst socket = io('/cssa-messages',{});\r\n\t\tsocket.on(\"connect\", () => {\r\n\t\t\tconsole.log(\"Socket IO Connected.\");\r\n\r\n\t\t\tthis.setState( {connection_status: true, socketio: {socket: socket} } );\r\n\t\t\tconst engine = socket.io.engine;\r\n\t\t});\r\n\r\n\t\t//On Disconnect or Connection Error Event\r\n\t\tsocket.on(\"connect_error\", () => {\r\n\t\t\tconsole.log('connection Error.');\r\n\t\t\tthis.setState({connection_status: false});\r\n\t\t});\r\n\r\n\t\t//Register Event Listeners\r\n\t\tsocket.on('cssa-message-send-response', (arg) => {\r\n\t\t\tthis.listenCSSASendMessageResponse(arg);\r\n\t\t});\r\n\r\n\t\tsocket.on('cssa-toggle-online-status-response', (arg) => {\r\n\t\t\tthis.listenToggleOnlineStatus(arg);\r\n\t\t});\r\n\r\n\t\tsocket.on('cssa-close-chat-response', response => {\r\n\t\t\tthis.listenCloseChatResponse(response);\r\n\t\t})\r\n\r\n\t\tsocket.on('cssa-chat-seen-response', response => {\r\n\t\t\tthis.listenCSSAChatSeenResponse(response);\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tgetUser = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get('/users/get');\r\n\t\t\treturn response.data;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tgetAllActiveChats = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get('/chats/active-chats-cssa');\r\n\t\t\treturn response.data;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\ttoggleOnlineStatus = () => {\r\n\t\tconst {is_online, user} = this.state;\r\n\r\n\t\tthis.emitToggleOnlineStatus({is_online: !is_online, user_id: user._id});\r\n\r\n\t};\r\n\r\n\tloadChat = async (chat_id) => {\r\n\t\tconst newState = {\r\n\t\t\tis_initial: false,\r\n\t\t\tloaded_chat_id: chat_id,\r\n\t\t};\r\n\r\n\t\tlet { active_chats } = this.state;\r\n\t\tlet chat = active_chats[chat_id];\r\n\t\tif(!chat.is_seen_by_cssa) {\r\n\t\t\tactive_chats = {...active_chats};\r\n\t\t\tchat = {...chat};\r\n\t\t\tchat.is_seen_by_cssa = true;\r\n\t\t\tactive_chats[chat_id] = chat;\r\n\t\t\tnewState['active_chats'] = active_chats;\r\n\r\n\t\t\t//notify Others\r\n\t\t\tthis.emitCSSAChatSeen({chat_id});\r\n\t\t}\r\n\r\n\t\tthis.setState(newState);\r\n\t};\r\n\r\n\tloadChatMessagesByChatID = async (chat_id) => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get('/chat-messages/get/'+chat_id);\r\n\t\t\treturn response.data;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tsortChatIDsByUpdateTimestamp = (chatIds, active_chats) => {\r\n\t\tchatIds = [...chatIds];\r\n\t\tchatIds.sort((a,b) => {\r\n\t\t\ta = new Date(active_chats[a]['updated_at']);\r\n\t\t\tb = new Date(active_chats[b]['updated_at']);\r\n\r\n\t\t\tif (a > b) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tif (a < b) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\tconsole.log(chatIds);\r\n\t\treturn chatIds;\r\n\t};\r\n\r\n\tinputMessage = (event) => {\r\n\t\tconst {loaded_chat_id, active_chats} = this.state;\r\n\r\n\t\tconst value = event.target.value;\r\n\t\tconst newState = {'active_chats': {...active_chats}};\r\n\t\tnewState['active_chats'][loaded_chat_id]['input_value'] = value;\r\n\r\n\t\tthis.setState(newState);\r\n\t};\r\n\r\n\tsendMessage = () => {\r\n\t\tconst { loaded_chat_id, active_chats} = this.state;\r\n\r\n\t\tconst current_chat = active_chats[loaded_chat_id];\r\n\r\n\t\tconst message = current_chat.input_value ? current_chat.input_value : '';\r\n\r\n\t\tconst data = {\r\n\t\t\tmessage,\r\n\t\t\tchat_id: loaded_chat_id\r\n\t\t}\r\n\r\n\t\tthis.emitCSSASendMessage(data, this.acknowledgeCSSASendMessage);\r\n\r\n\t\tthis.setState({\r\n\t\t\tmessage_send: {\r\n\t\t\t\tis_sending: true\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tcloseChat = (chat_id) => {\r\n\t\tthis.emitCloseChat({chat_id});\r\n\t};\r\n\r\n\tpublishTypingIndicator = () => {\r\n\t\tif(this.custom_data.typing_indicator.can_publish) {\r\n\t\t\tconst { loaded_chat_id } = this.state;\r\n\t\t\tthis.emitCSSATypingIndicator({chat_id: loaded_chat_id});\r\n\r\n\t\t\tthis.custom_data.typing_indicator.can_publish = false;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.custom_data.typing_indicator.can_publish = true;\r\n\t\t\t}, this.custom_data.typing_indicator.throttle_time);\r\n\t\t}\r\n\r\n\t};\r\n\r\n\r\n\t//Start - SocketIO Events and EventListeners and Acknowledgements\r\n\temitCSSASendMessage = (message, acknowledge) => {\r\n\t\tconst {socketio} = this.state;\r\n\r\n\t\tsocketio.socket.emit('cssa-message-send', message, acknowledge);\r\n\t}\r\n\r\n\tlistenCSSASendMessageResponse = (res) => {\r\n\t\tconst { chatMessage, chat: updatedChat } = res;\r\n\t\tlet newState = {};\r\n\t\tconst {message_send, active_chats, active_chat_ids} = this.state;\r\n\r\n\t\tif(chatMessage) {\r\n\t\t\tif (message_send.is_sending) {\r\n\t\t\t\tnewState = {\r\n\t\t\t\t\tmessage_send: {\r\n\t\t\t\t\t\tis_sending: false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Add the message to the correct chat\r\n\t\t\tnewState['active_chats'] = {...active_chats};\r\n\t\t\tconst chat = newState['active_chats'][chatMessage.chat_id];\r\n\t\t\tchat['updated_at'] = updatedChat.updated_at;\r\n\t\t\tchat['chat_messages'].push(chatMessage);\r\n\r\n\t\t\tnewState['active_chat_ids'] = this.sortChatIDsByUpdateTimestamp(active_chat_ids, newState['active_chats']);\r\n\r\n\t\t\tthis.setState(newState);\r\n\t\t}\r\n\t};\r\n\r\n\tacknowledgeCSSASendMessage = (response) => {\r\n\t\tif(response.status === 'FAILED')\r\n\t\t\tconsole.log(\"Send Failed.\");\r\n\r\n\t\tconst { chatMessage, chat: updatedChat } = response;\r\n\t\tlet newState = {};\r\n\t\tconst {message_send, active_chats, active_chat_ids} = this.state;\r\n\r\n\t\tif(chatMessage) {\r\n\t\t\tif (message_send.is_sending) {\r\n\t\t\t\tnewState = {\r\n\t\t\t\t\tmessage_send: {\r\n\t\t\t\t\t\tis_sending: false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Add the message to the correct chat\r\n\t\t\tnewState['active_chats'] = {...active_chats};\r\n\t\t\tconst chat = newState['active_chats'][chatMessage.chat_id];\r\n\t\t\tchat['input_value'] = '';\r\n\t\t\tchat['updated_at'] = updatedChat.updated_at;\r\n\t\t\tchat['chat_messages'].push(chatMessage);\r\n\r\n\t\t\tnewState['active_chat_ids'] = this.sortChatIDsByUpdateTimestamp(active_chat_ids, newState['active_chats']);\r\n\r\n\t\t\tthis.setState(newState);\r\n\t\t}\r\n\t}\r\n\r\n\temitToggleOnlineStatus = (newStatus) => {\r\n\t\tconst {socketio} = this.state;\r\n\r\n\t\tsocketio.socket.emit('cssa-toggle-online-status', newStatus);\r\n\t};\r\n\r\n\tlistenToggleOnlineStatus = (response) => {\r\n\t\tthis.setState({\r\n\t\t\tis_online: response.is_online\r\n\t\t});\r\n\t};\r\n\r\n\temitCloseChat = (content) => {\r\n\t\tconst {socketio} = this.state;\r\n\r\n\t\tsocketio.socket.emit('cssa-close-chat', content);\r\n\t};\r\n\r\n\tlistenCloseChatResponse = (response) => {\r\n\t\tif(response.status === 'OK') {\r\n\t\t\tconst chat_id = response.chat_id;\r\n\t\t\tlet { loaded_chat_id, active_chat_ids, active_chats} = this.state;\r\n\r\n\t\t\tactive_chat_ids = active_chat_ids.filter(ch => ch !== chat_id);\r\n\t\t\tactive_chats = {...active_chats};\r\n\t\t\tdelete active_chats[chat_id];\r\n\t\t\tlet newState = {\r\n\t\t\t\tactive_chat_ids,\r\n\t\t\t\tactive_chats\r\n\t\t\t}\r\n\t\t\tif (loaded_chat_id === chat_id)\r\n\t\t\t\tnewState['is_initial'] = true;\r\n\r\n\t\t\tconsole.log(newState);\r\n\t\t\tthis.setState(newState);\r\n\t\t}\r\n\t};\r\n\r\n\temitCSSAChatSeen = (content) => {\r\n\t\tconst {socketio} = this.state;\r\n\r\n\t\tsocketio.socket.emit('cssa-chat-seen', content);\r\n\t};\r\n\r\n\tlistenCSSAChatSeenResponse = (response) => {\r\n\t\tconst { status, chat } = response;\r\n\t\tif(status === 'OK') {\r\n\t\t\tlet { active_chats } = this.state;\r\n\t\t\tactive_chats = {...active_chats};\r\n\t\t\tlet old_chat = active_chats[chat._id];\r\n\t\t\tlet chatMessages = old_chat['chat_messages'];\r\n\t\t\tchatMessages = [...chatMessages];\r\n\t\t\tchat.input_value = old_chat.input_value;\r\n\t\t\tchat.chat_messages = chatMessages;\r\n\r\n\t\t\tactive_chats[chat._id] = chat;\r\n\r\n\t\t\tthis.setState({active_chats});\r\n\t\t}\r\n\t};\r\n\r\n\temitCSSATypingIndicator = (content) => {\r\n\t\tconst {socketio} = this.state;\r\n\r\n\t\tsocketio.socket.emit('cssa-typing-indicator-publish', content);\r\n\t};\r\n\r\n\t//End - SocketIO Events and EventListeners\r\n\r\n\tdetermineChatClass = (chat) => {\r\n\t\tconst { loaded_chat_id } = this.state;\r\n\t\tlet className = 'friend-drawer ';\r\n\t\tif(chat._id === loaded_chat_id) {\r\n\t\t\tclassName += 'friend-drawer--onselected';\r\n\t\t} else if (!chat.is_seen_by_cssa) {\r\n\t\t\tclassName += 'friend-drawer--onnewchats';\r\n\t\t} else {\r\n\t\t\tclassName += 'friend-drawer--onhover';\r\n\t\t}\r\n\r\n\t\treturn className;\r\n\t};\r\n\r\n\trenderWelcomeScreen = () => {\r\n\t\tconst {user} = this.state;\r\n\t\tif (user) {\r\n\t\t\treturn (<div className=\"col-md-8\">\r\n\t\t\t\t<div className=\"settings-tray\">\r\n\t\t\t\t\t<div className=\"friend-drawer no-gutters friend-drawer--grey\">\r\n\t\t\t\t\t\t<img className=\"profile-image\"\r\n\t\t\t\t\t\t\t src=\"https://www.clarity-enhanced.net/wp-content/uploads/2020/06/robocop.jpg\" alt=\"\"/>\r\n\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t<h6>Welcome, {user.first_name}</h6>\r\n\t\t\t\t\t\t\t<p className=\"text-muted\">{user.first_name + ' ' + user.last_name+ ' - ' + 'CSSA'}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span className=\"settings-tray--right\">\r\n\t\t\t\t\t\t   <i className=\"material-icons\">cached</i>\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\">message</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">menu</i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>);\r\n\t\t}\r\n\t};\r\n\r\n\trenderMessages = () => {\r\n\r\n\r\n\t\tconst { loaded_chat_id, active_chats, message_send } = this.state;\r\n\r\n\t\tconst loaded_chat = active_chats[loaded_chat_id];\r\n\t\tconst loaded_chat_messages = active_chats[loaded_chat_id]['chat_messages'];\r\n\t\tconst chatMessages = loaded_chat_messages.map((cm, index) => {\r\n\t\t\t//left\r\n\t\t\tif(cm.is_incoming) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={cm._id} className=\"row no-gutters\">\r\n\t\t\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t\t\t<div className=\"chat-bubble chat-bubble--left\">\r\n\t\t\t\t\t\t\t\t{cm.message}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\t//right\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={cm._id} className=\"row no-gutters\">\r\n\t\t\t\t\t\t<div className=\"col-md-3 offset-md-9\">\r\n\t\t\t\t\t\t\t<div className=\"chat-bubble chat-bubble--right\">\r\n\t\t\t\t\t\t\t\t{cm.message}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"col-md-8\">\r\n\t\t\t\t<div className=\"settings-tray\">\r\n\t\t\t\t\t<div className=\"friend-drawer no-gutters friend-drawer--grey\">\r\n\t\t\t\t\t\t<img className=\"profile-image\"\r\n\t\t\t\t\t\t\t src=\"https://www.clarity-enhanced.net/wp-content/uploads/2020/06/robocop.jpg\" alt=\"\"/>\r\n\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t<h6>{loaded_chat.customer_name}</h6>\r\n\t\t\t\t\t\t\t<p className=\"text-muted\">Email - {loaded_chat.customer_email}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span className=\"settings-tray--right\">\r\n                   \t\t\t<i className=\"material-icons\" onClick={() => this.closeChat(loaded_chat._id)}>cached</i>\r\n                        \t<i className=\"material-icons\">message</i>\r\n\t\t\t\t\t\t\t<i className=\"material-icons\">menu</i>\r\n                \t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"chat-panel\">\r\n\t\t\t\t\t{chatMessages}\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<div className=\"chat-box-tray\">\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\">s</i>\r\n\t\t\t\t\t\t\t\t<input onChange={this.inputMessage} onKeyUp={this.publishTypingIndicator} type=\"text\" value={loaded_chat.input_value ? loaded_chat.input_value : ''} placeholder=\"Type your message here...\"/>\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\">mic</i>\r\n\t\t\t\t\t\t\t\t<button onClick={this.sendMessage} disabled={message_send.is_sending} className=\"round\">Send</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\trenderChats = () => {\r\n\t\tconst {active_chats, active_chat_ids, loaded_chat_id} = this.state;\r\n\r\n\t\tlet view;\r\n\r\n\t\tview = active_chat_ids.map((chat_id,index) => {\r\n\t\t\tconst chat = active_chats[chat_id];\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment key={chat._id}>\r\n\t\t\t\t\t<div className={this.determineChatClass(chat)} onClick={() => this.loadChat(chat._id)}>\r\n\t\t\t\t\t\t<img className=\"profile-image\" src=\"https://www.clarity-enhanced.net/wp-content/uploads/2020/06/robocop.jpg\" alt=\"\" />\r\n\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t<h6>{chat.customer_name} {!chat.is_seen_by_cssa ? <span className=\"badge badge-success\">New</span> : ''}</h6>\r\n\t\t\t\t\t\t\t<p className=\"text-muted\">{chat.title_question}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span className=\"time text-muted small\">{moment(chat.updated_at).fromNow()}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn view;\r\n\t};\r\n}\r\n\r\nconst domContainer = document.querySelector('#react-all-chats-component');\r\nconst root = ReactDOM.createRoot(domContainer);\r\nroot.render(<AllChatsComponent />);"],"mappings":"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"}